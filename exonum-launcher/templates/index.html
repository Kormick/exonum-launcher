{% extends "base.html" %}

{% block content %}
{% for item in messages %}
    <div class="card" style="margin: 10px">
        <div class="card-header"> <h4> {{ item.name }}: </h4> </div> 
        <div class="card-body">
            <div class="form-group row">
                <div class="col">
                    <h2>Deploy TX:</h2>
                </div>
            </div>

            <form action="/send_deploy" method="POST">
                <div class="form-group row">
                    <label for="artifact_name" class="col-sm-4 col-form-label">Artifact name:</label> 
                    <div class="col-sm-8">
                        <input type="text" class="form-control" name="artifact_name">
                    </div>
                </div>

                <div class="form-group row">
                    <label for="artifact_version" class="col-sm-4 col-form-label">Artifact version:</label> 
                    <div class="col-sm-8">
                        <input type="text" class="form-control" name="artifact_version">
                    </div>
                </div>
                <input class="btn btn-primary btn-lg btn-block" type="submit" value="Submit">
            </form>

            <hr>

            <div class="form-group row">
                <div class="col">
                    <h2>Init TX:</h2>
                </div>
            </div>

            <form action="/send_init" method="POST">
                <div class="form-group row">
                    <label for="artifact_name" class="col-sm-4 col-form-label">Artifact name:</label> 
                    <div class="col-sm-8">
                        <input type="text" class="form-control" name="artifact_name">
                    </div>
                </div>

                <div class="form-group row">
                    <label for="artifact_version" class="col-sm-4 col-form-label">Artifact version:</label> 
                    <div class="col-sm-8">
                        <input type="text" class="form-control" name="artifact_version">
                    </div>
                </div>

                <div class="form-group row">
                    <label for="instance_name" class="col-sm-4 col-form-label">Instance name:</label> 
                    <div class="col-sm-8">
                        <input type="text" class="form-control" name="instance_name">
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col">
                        <strong>Constructor data:</strong>
                    </div>
                </div>

                {% for field in item.fields %}
                    <div class="form-group row">
                        <label for="init_{{ field }}" class="col-sm-4 col-form-label">{{ field }}:</label> 
                        <div class="col-sm-8">
                            <input type="text" class="form-control" name="init_{{ field }}"> <br>
                        </div>
                    </div>
                {% endfor %}
                <input class="btn btn-primary btn-lg btn-block" type="submit" value="Submit">
            </form>
        </div>
    </div>
{% endfor %}
{% endblock %}
